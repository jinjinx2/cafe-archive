/*! suggest - v1.2.16 - 2020-01-08
* Copyright (c) 2020 FT, DK Techin Corp */

(function(){var e,o,r,i,c,n,a,u;r=function(e){return window.document.createElement(e)},i=window.encodeURIComponent,a=Math.random,e=function(e){var t,n,a,i,s;if(e=e||{},i={data:e.data||{},error:e.error||c,success:e.success||c,beforeSend:e.beforeSend||c,complete:e.complete||c,url:e.url||""},i.computedUrl=o(i),0===i.url.length)throw new Error("MissingUrl");return n=!1,!1!==i.beforeSend({},i)?(t=i.data[e.callbackName||"callback"]="jsonp_"+u(15),window[t]=function(e){i.success(e,i),i.complete(e,i);try{return delete window[t]}catch(o){return void(window[t]=void 0)}},s=r("script"),s.src=o(i),s.async=!0,s.onerror=function(e){return i.error({url:s.src,event:e}),i.complete({url:s.src,event:e},i)},s.onload=s.onreadystatechange=function(){return n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(n=!0,s.onload=s.onreadystatechange=null,s&&s.parentNode&&s.parentNode.removeChild(s),s=null)},a=a||window.document.getElementsByTagName("head")[0]||window.document.documentElement,a.insertBefore(s,a.firstChild)):void 0},c=function(){},o=function(e){var t;return t=e.url,t+=e.url.indexOf("?")<0?"?":"&",t+n(e.data)},u=function(e){var t;for(t="";t.length<e;)t+=a().toString(36)[2];return t},n=function(e){var t,n,a;for(n in t=[],e)a=e[n],t.push(i(n)+"="+i(a));return t.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:this.JSONP=e}).call(this),function(e,o){"use strict";var t=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var s=function(e,t,n){return 1===arguments.length?s.get(e):s.set(e,t,n)};return s._document=e.document,s._cacheKeyPrefix="cookey.",s._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),s.defaults={path:"/",secure:!1},s.get=function(e){s._cachedDocumentCookie!==s._document.cookie&&s._renewCache();var t=s._cache[s._cacheKeyPrefix+e];return t===o?o:decodeURIComponent(t)},s.set=function(e,t,n){return n=s._getExtendedOptions(n),n.expires=s._getExpiresDate(t===o?-1:n.expires),s._document.cookie=s._generateCookieString(e,t,n),s},s.expire=function(e,t){return s.set(e,o,t)},s._getExtendedOptions=function(e){return{path:e&&e.path||s.defaults.path,domain:e&&e.domain||s.defaults.domain,expires:e&&e.expires||s.defaults.expires,secure:e&&e.secure!==o?e.secure:s.defaults.secure}},s._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},s._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===Infinity?s._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!s._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},s._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var a=e+"="+t;return a+=n.path?";path="+n.path:"",a+=n.domain?";domain="+n.domain:"",a+=n.expires?";expires="+n.expires.toUTCString():"",a+=n.secure?";secure":"",a},s._getCacheFromString=function(e){for(var t={},n=e?e.split("; "):[],a=0;a<n.length;a++){var i=s._getKeyValuePairFromCookieString(n[a]);t[s._cacheKeyPrefix+i.key]===o&&(t[s._cacheKeyPrefix+i.key]=i.value)}return t},s._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,a=e.substr(0,t);try{n=decodeURIComponent(a)}catch(i){console&&console.error}return{key:n,value:e.substr(t+1)}},s._renewCache=function(){s._cache=s._getCacheFromString(s._document.cookie),s._cachedDocumentCookie=s._document.cookie},s._areEnabled=function(){var e="cookies.js",t="1"===s.set(e,1).get(e);return s.expire(e),t},s.enabled=s._areEnabled(),s},n=e&&"object"==typeof e.document?t(e):t;"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=n),exports.Cookies=n):e.Cookies=n}("undefined"==typeof window?this:window),function(ja){var pa,ka=this||eval("this"),la=ka.document,ma=ka.navigator,na=ka.jQuery,oa=ka.JSON;pa=function(e,a){function n(e,t){return(null===e||typeof e in r)&&e===t}function s(e,t){var n;return function(){n=n||setTimeout(function(){n=ja,e()},t)}}function o(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function t(e,c,u,l){D.d[e]={init:function(a,i,e,t,s){var o,r;return D.w(function(){var e=D.a.c(i()),t=!u!=!e,n=!r;(n||c||t!==o)&&(n&&D.Z.oa()&&(r=D.a.la(D.e.childNodes(a),!0)),t?(n||D.e.T(a,D.a.la(r)),D.Ja(l?l(s,e):s,a)):D.e.ma(a),o=t)},null,{q:a}),{controlsDescendantBindings:!0}}},D.h.ka[e]=!1,D.e.R[e]=!0}var i,D=void 0!==e?e:{};D.b=function(e,t){for(var n=e.split("."),a=D,i=0;i<n.length-1;i++)a=a[n[i]];a[n[n.length-1]]=t},D.D=function(e,t,n){e[t]=n},D.version="3.3.0",D.b("version",D.version),D.a=function(){function d(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function e(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}function i(e,t,n,a){var i=e[t].match(c)||[];D.a.o(n.match(c),function(e){D.a.ga(i,e,a)}),e[t]=i.join(" ")}var t={__proto__:[]}instanceof Array,a={},s={};a[ma&&/Firefox\/2/i.test(ma.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],a.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),d(a,function(e,t){if(t.length)for(var n=0,a=t.length;n<a;n++)s[t[n]]=e});var o={propertychange:!0},r=la&&function(){for(var e=3,t=la.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:ja}(),c=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(e,t){for(var n=0,a=e.length;n<a;n++)t(e[n],n)},m:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},vb:function(e,t,n){for(var a=0,i=e.length;a<i;a++)if(t.call(n,e[a],a))return e[a];return null},ya:function(e,t){var n=D.a.m(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wb:function(e){e=e||[];for(var t=[],n=0,a=e.length;n<a;n++)D.a.m(t,e[n])<0&&t.push(e[n]);return t},Ka:function(e,t){e=e||[];for(var n=[],a=0,i=e.length;a<i;a++)n.push(t(e[a],a));return n},xa:function(e,t){e=e||[];for(var n=[],a=0,i=e.length;a<i;a++)t(e[a],a)&&n.push(e[a]);return n},ia:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,a=t.length;n<a;n++)e.push(t[n]);return e},ga:function(e,t,n){var a=D.a.m(D.a.cb(e),t);a<0?n&&e.push(t):n||e.splice(a,1)},za:t,extend:e,Fa:n,Ga:t?n:e,A:d,pa:function(e,t){if(!e)return e;var n,a={};for(n in e)e.hasOwnProperty(n)&&(a[n]=t(e[n],n,e));return a},Ra:function(e){for(;e.firstChild;)D.removeNode(e.firstChild)},Jb:function(e){e=D.a.O(e);for(var t=(e[0]&&e[0].ownerDocument||la).createElement("div"),n=0,a=e.length;n<a;n++)t.appendChild(D.S(e[n]));return t},la:function(e,t){for(var n=0,a=e.length,i=[];n<a;n++){var s=e[n].cloneNode(!0);i.push(t?D.S(s):s)}return i},T:function(e,t){if(D.a.Ra(e),t)for(var n=0,a=t.length;n<a;n++)e.appendChild(t[n])},Qb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var a=n[0],i=a.parentNode,s=0,o=t.length;s<o;s++)i.insertBefore(t[s],a);for(s=0,o=n.length;s<o;s++)D.removeNode(n[s])}},na:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);if(1<e.length){var n=e[0],a=e[e.length-1];for(e.length=0;n!==a;)if(e.push(n),n=n.nextSibling,!n)return;e.push(a)}}return e},Sb:function(e,t){r<7?e.setAttribute("selected",t):e.selected=t},ib:function(e){return null===e||e===ja?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},jc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Qa:function(e){return D.a.jc(e,e.ownerDocument.documentElement)},tb:function(e){return!!D.a.vb(e,D.a.Qa)},v:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(t,e,n){var a=r&&o[e];if(!a&&na)na(t).bind(e,n);else if(a||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(e){n.call(t,e)},s="on"+e;t.attachEvent(s,i),D.a.C.fa(t,function(){t.detachEvent(s,i)})}else t.addEventListener(e,n,!1)},qa:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==D.a.v(e)||!e.type||"click"!=t.toLowerCase())&&(n=e.type,"checkbox"==n||"radio"==n),na&&!n)na(e).trigger(t);else if("function"==typeof la.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");n=la.createEvent(s[t]||"HTMLEvents"),n.initEvent(t,!0,!0,ka,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},c:function(e){return D.F(e)?e():e},cb:function(e){return D.F(e)?e.B():e},Ia:function(t,e,n){var a;e&&("object"==typeof t.classList?(a=t.classList[n?"add":"remove"],D.a.o(e.match(c),function(e){a.call(t.classList,e)})):"string"==typeof t.className.baseVal?i(t.className,"baseVal",e,n):i(t,"className",e,n))},Ha:function(e,t){var n=D.a.c(t);null!==n&&n!==ja||(n="");var a=D.e.firstChild(e);!a||3!=a.nodeType||D.e.nextSibling(a)?D.e.T(e,[e.ownerDocument.createTextNode(n)]):a.data=n,D.a.mc(e)},Rb:function(e,t){if(e.name=t,r<=7)try{e.mergeAttributes(la.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},mc:function(e){9<=r&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},kc:function(e){if(r){var t=e.style.width;e.style.width=0,e.style.width=t}},Bc:function(e,t){e=D.a.c(e),t=D.a.c(t);for(var n=[],a=e;a<=t;a++)n.push(a);return n},O:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t},Hc:6===r,Ic:7===r,M:r,Db:function(e,t){for(var n=D.a.O(e.getElementsByTagName("input")).concat(D.a.O(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],s=n.length-1;0<=s;s--)a(n[s])&&i.push(n[s]);return i},yc:function(e){return"string"==typeof e&&(e=D.a.ib(e))?oa&&oa.parse?oa.parse(e):new Function("return "+e)():null},jb:function(e,t,n){if(!oa||!oa.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return oa.stringify(D.a.c(e),t,n)},zc:function(e,t,n){n=n||{};var a=n.params||{},i=n.includeFields||this.Bb,s=e;if("object"==typeof e&&"form"===D.a.v(e)){s=e.action;for(var o=i.length-1;0<=o;o--)for(var r=D.a.Db(e,i[o]),c=r.length-1;0<=c;c--)a[r[c].name]=r[c].value}t=D.a.c(t);var u=la.createElement("form");for(var l in u.style.display="none",u.action=s,u.method="post",t)e=la.createElement("input"),e.type="hidden",e.name=l,e.value=D.a.jb(D.a.c(t[l])),u.appendChild(e);d(a,function(e,t){var n=la.createElement("input");n.type="hidden",n.name=e,n.value=t,u.appendChild(n)}),la.body.appendChild(u),n.submitter?n.submitter(u):u.submit(),setTimeout(function(){u.parentNode.removeChild(u)},0)}}}(),D.b("utils",D.a),D.b("utils.arrayForEach",D.a.o),D.b("utils.arrayFirst",D.a.vb),D.b("utils.arrayFilter",D.a.xa),D.b("utils.arrayGetDistinctValues",D.a.wb),D.b("utils.arrayIndexOf",D.a.m),D.b("utils.arrayMap",D.a.Ka),D.b("utils.arrayPushAll",D.a.ia),D.b("utils.arrayRemoveItem",D.a.ya),D.b("utils.extend",D.a.extend),D.b("utils.fieldsIncludedWithJsonPost",D.a.Bb),D.b("utils.getFormFields",D.a.Db),D.b("utils.peekObservable",D.a.cb),D.b("utils.postJson",D.a.zc),D.b("utils.parseJson",D.a.yc),D.b("utils.registerEventHandler",D.a.n),D.b("utils.stringifyJson",D.a.jb),D.b("utils.range",D.a.Bc),D.b("utils.toggleDomNodeCssClass",D.a.Ia),D.b("utils.triggerEvent",D.a.qa),D.b("utils.unwrapObservable",D.a.c),D.b("utils.objectForEach",D.a.A),D.b("utils.addOrRemoveItem",D.a.ga),D.b("utils.setTextContent",D.a.Ha),D.b("unwrap",D.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(1===arguments.length)return function(){return n.apply(t,arguments)};var a=Array.prototype.slice.call(arguments,1);return function(){var e=a.slice(0);return e.push.apply(e,arguments),n.apply(t,e)}}),D.a.f=new function(){function a(e,t){var n=e[s];if(!n||"null"===n||!o[n]){if(!t)return ja;n=e[s]="ko"+i++,o[n]={}}return o[n]}var i=0,s="__ko__"+(new Date).getTime(),o={};return{get:function(e,t){var n=a(e,!1);return n===ja?ja:n[t]},set:function(e,t,n){n===ja&&a(e,!1)===ja||(a(e,!0)[t]=n)},clear:function(e){var t=e[s];return!!t&&(delete o[t],e[s]=null,!0)},I:function(){return i+++s}}},D.b("utils.domData",D.a.f),D.b("utils.domData.clear",D.a.f.clear),D.a.C=new function(){function a(e,t){var n=D.a.f.get(e,s);return n===ja&&t&&(n=[],D.a.f.set(e,s,n)),n}function i(e){var t=a(e,!1);if(t){t=t.slice(0);for(var n=0;n<t.length;n++)t[n](e)}if(D.a.f.clear(e),D.a.C.cleanExternalData(e),r[e.nodeType])for(t=e.firstChild;e=t;)t=e.nextSibling,8===e.nodeType&&i(e)}var s=D.a.f.I(),o={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{fa:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");a(e,!0).push(t)},Pb:function(e,t){var n=a(e,!1);n&&(D.a.ya(n,t),0==n.length&&D.a.f.set(e,s,ja))},S:function(e){if(o[e.nodeType]&&(i(e),r[e.nodeType])){var t=[];D.a.ia(t,e.getElementsByTagName("*"));for(var n=0,a=t.length;n<a;n++)i(t[n])}return e},removeNode:function(e){D.S(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){na&&"function"==typeof na.cleanData&&na.cleanData([e])}}},D.S=D.a.C.S,D.removeNode=D.a.C.removeNode,D.b("cleanNode",D.S),D.b("removeNode",D.removeNode),D.b("utils.domNodeDisposal",D.a.C),D.b("utils.domNodeDisposal.addDisposeCallback",D.a.C.fa),D.b("utils.domNodeDisposal.removeDisposeCallback",D.a.C.Pb),D.a.ca=function(e,t){var n;if(na){if(na.parseHTML)n=na.parseHTML(e,t)||[];else if((n=na.clean([e],t))&&n[0]){for(var a=n[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(a=t)||(a=la),n=a.parentWindow||a.defaultView||ka;var i=D.a.ib(e).toLowerCase(),s=(a=a.createElement("div"),i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],"ignored<div>"+i[1]+e+i[2]+"</div>");for("function"==typeof n.innerShiv?a.appendChild(n.innerShiv(s)):a.innerHTML=s;i[0]--;)a=a.lastChild;n=D.a.O(a.lastChild.childNodes)}return n},D.a.gb=function(e,t){if(D.a.Ra(e),t=D.a.c(t),null!==t&&t!==ja)if("string"!=typeof t&&(t=t.toString()),na)na(e).html(t);else for(var n=D.a.ca(t,e.ownerDocument),a=0;a<n.length;a++)e.appendChild(n[a])},D.b("utils.parseHtmlFragment",D.a.ca),D.b("utils.setHtml",D.a.gb),D.H=(i={},{$a:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Wb:function(e,t){var n=i[e];if(n===ja)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete i[e]}},Xb:function(e,t){var n=[];!function r(e,t){if(e)if(8==e.nodeType){var n=D.H.Lb(e.nodeValue);null!=n&&t.push({ic:e,wc:n})}else if(1==e.nodeType){n=0;for(var a=e.childNodes,i=a.length;n<i;n++)r(a[n],t)}}(e,n);for(var a=0,i=n.length;a<i;a++){var s=n[a].ic,o=[s];t&&D.a.ia(o,t),D.H.Wb(n[a].wc,o),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Lb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),D.b("memoization",D.H),D.b("memoization.memoize",D.H.$a),D.b("memoization.unmemoize",D.H.Wb),D.b("memoization.parseMemoText",D.H.Lb),D.b("memoization.unmemoizeDomNodeAndDescendants",D.H.Xb),D.Sa={throttle:function(t,n){t.throttleEvaluation=n;var a=null;return D.j({read:t,write:function(e){clearTimeout(a),a=setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,a,i;"number"==typeof t?n=t:(n=t.timeout,a=t.method),i="notifyWhenChangesStop"==a?o:s,e.Za(function(e){return i(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var r={undefined:1,"boolean":1,number:1,string:1};D.b("extenders",D.Sa),D.Ub=function(e,t,n){this.da=e,this.La=t,this.hc=n,this.Gb=!1,D.D(this,"dispose",this.p)},D.Ub.prototype.p=function(){this.Gb=!0,this.hc()},D.Q=function(){D.a.Ga(this,D.Q.fn),this.G={},this.rb=1};var c,u,l,d={U:function(e,t,n){var a=this;n=n||"change";var i=new D.Ub(a,t?e.bind(t):e,function(){D.a.ya(a.G[n],i),a.ua&&a.ua(n)});return a.ja&&a.ja(n),a.G[n]||(a.G[n]=[]),a.G[n].push(i),i},notifySubscribers:function(e,t){if(t=t||"change","change"===t&&this.Yb(),this.Ba(t))try{D.k.xb();for(var n,a=this.G[t].slice(0),i=0;n=a[i];++i)n.Gb||n.La(e)}finally{D.k.end()}},Aa:function(){return this.rb},pc:function(e){return this.Aa()!==e},Yb:function(){++this.rb},Za:function(e){var t,n,a,i=this,s=D.F(i);i.ta||(i.ta=i.notifySubscribers,i.notifySubscribers=function(e,t){t&&"change"!==t?"beforeChange"===t?i.pb(e):i.ta(e,t):i.qb(e)});var o=e(function(){s&&a===i&&(a=i()),t=!1,i.Wa(n,a)&&i.ta(n=a)});i.qb=function(e){t=!0,a=e,o()},i.pb=function(e){t||(n=e,i.ta(e,"beforeChange"))}},Ba:function(e){return this.G[e]&&this.G[e].length},nc:function(e){if(e)return this.G[e]&&this.G[e].length||0;var n=0;return D.a.A(this.G,function(e,t){n+=t.length}),n},Wa:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var a=this;return e&&D.a.A(e,function(e,t){var n=D.Sa[e];"function"==typeof n&&(a=n(a,t)||a)}),a}};function f(e){u.push(c),c=e}function p(){c=u.pop()}D.D(d,"subscribe",d.U),D.D(d,"extend",d.extend),D.D(d,"getSubscriptionsCount",d.nc),D.a.za&&D.a.Fa(d,Function.prototype),D.Q.fn=d,D.Hb=function(e){return null!=e&&"function"==typeof e.U&&"function"==typeof e.notifySubscribers},D.b("subscribable",D.Q),D.b("isSubscribable",D.Hb),D.Z=D.k=(u=[],l=0,{xb:f,end:p,Ob:function(e){if(c){if(!D.Hb(e))throw Error("Only subscribable things can act as dependencies");c.La(e,e.ac||(e.ac=++l))}},u:function(e,t,n){try{return f(),e.apply(t,n||[])}finally{p()}},oa:function(){if(c)return c.w.oa()},Ca:function(){if(c)return c.Ca}}),D.b("computedContext",D.Z),D.b("computedContext.getDependenciesCount",D.Z.oa),D.b("computedContext.isInitial",D.Z.Ca),D.b("computedContext.isSleeping",D.Z.Jc),D.b("ignoreDependencies",D.Gc=D.k.u),D.r=function(e){function t(){return 0<arguments.length?(t.Wa(n,arguments[0])&&(t.X(),n=arguments[0],t.W()),this):(D.k.Ob(t),n)}var n=e;return D.Q.call(t),D.a.Ga(t,D.r.fn),t.B=function(){return n},t.W=function(){t.notifySubscribers(n)},t.X=function(){t.notifySubscribers(n,"beforeChange")},D.D(t,"peek",t.B),D.D(t,"valueHasMutated",t.W),D.D(t,"valueWillMutate",t.X),t},D.r.fn={equalityComparer:n};var h,m,g,b,v,y,x,w,_,k,E,C,S,T,I=D.r.Ac="__ko_proto__";function A(a,i,s){if(s=s||new N,a=i(a),"object"!=typeof a||null===a||a===ja||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var o=a instanceof Array?[]:{};return s.save(a,o),function r(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(a,function(e){var t=i(a[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":o[e]=t;break;case"object":case"undefined":var n=s.get(t);o[e]=n!==ja?n:A(t,i,s)}}),o}function N(){this.keys=[],this.mb=[]}function L(e){e=D.a.ib(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],a=e.match(g),i=[],s=0;if(a){a.push(",");for(var o,r=0;o=a[r];++r){var c=o.charCodeAt(0);if(44===c){if(s<=0){n.push(t&&i.length?{key:t,value:i.join("")}:{unknown:t||i.join("")}),t=s=0,i=[];continue}}else if(58===c){if(!s&&!t&&1===i.length){t=i.pop();continue}}else 47===c&&r&&1<o.length?(c=a[r-1].match(b))&&!v[c[0]]&&(e=e.substr(e.indexOf(o)+1),a=e.match(g),a.push(","),r=-1,o="/"):40===c||123===c||91===c?++s:41===c||125===c||93===c?--s:t||i.length||34!==c&&39!==c||(o=o.slice(1,-1));i.push(o)}}return n}function B(e){return 8==e.nodeType&&w.test(x?e.text:e.nodeValue)}function j(e){return 8==e.nodeType&&_.test(x?e.text:e.nodeValue)}function O(e,t){for(var n=e,a=1,i=[];n=n.nextSibling;){if(j(n)&&(a--,0===a))return i;i.push(n),B(n)&&a++}if(!t)throw Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function R(e,t){var n=O(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}function $(a,e){var i,s=C.hasOwnProperty(a)?C[a]:E;s?s.U(e):(s=C[a]=new D.Q,s.U(e),function t(e,n){M("getConfig",[e],function(t){t?M("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}(a,function(e,t){var n=!(!t||!t.synchronous);S[a]={definition:e,tc:n},delete C[a],i||n?s.notifySubscribers(e):setTimeout(function(){s.notifySubscribers(e)},0)}),i=!0)}function M(t,n,a,i){i=i||D.g.loaders.slice(0);var e=i.shift();if(e){var s=e[t];if(s){var o=!1;if(s.apply(e,n.concat(function(e){o?a(null):null!==e?a(e):M(t,n,a,i)}))!==E&&(o=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else M(t,n,a,i)}else a(null)}D.r.fn[I]=D.r,D.a.za&&D.a.Fa(D.r.fn,D.Q.fn),D.Ta=function(e,t){return null!==e&&e!==ja&&e[I]!==ja&&(e[I]===t||D.Ta(e[I],t))},D.F=function(e){return D.Ta(e,D.r)},D.Da=function(e){return!!("function"==typeof e&&e[I]===D.r||"function"==typeof e&&e[I]===D.j&&e.qc)},D.b("observable",D.r),D.b("isObservable",D.F),D.b("isWriteableObservable",D.Da),D.b("isWritableObservable",D.Da),D.ba=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=D.r(e),D.a.Ga(e,D.ba.fn),e.extend({trackArrayChanges:!0})},D.ba.fn={remove:function(t){for(var e=this.B(),n=[],a="function"!=typeof t||D.F(t)?function(e){return e===t}:t,i=0;i<e.length;i++){var s=e[i];a(s)&&(0===n.length&&this.X(),n.push(s),e.splice(i,1),i--)}return n.length&&this.W(),n},removeAll:function(t){if(t!==ja)return t?this.remove(function(e){return 0<=D.a.m(t,e)}):[];var e=this.B(),n=e.slice(0);return this.X(),e.splice(0,e.length),this.W(),n},destroy:function(t){var e=this.B(),n="function"!=typeof t||D.F(t)?function(e){return e===t}:t;this.X();for(var a=e.length-1;0<=a;a--)n(e[a])&&(e[a]._destroy=!0);this.W()},destroyAll:function(t){return t===ja?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=D.a.m(t,e)}):[]},indexOf:function(e){var t=this();return D.a.m(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.X(),this.B()[n]=t,this.W())}},D.a.o("pop push reverse shift sort splice unshift".split(" "),function(t){D.ba.fn[t]=function(){var e=this.B();return this.X(),this.yb(e,t,arguments),e=e[t].apply(e,arguments),this.W(),e}}),D.a.o(["slice"],function(t){D.ba.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),D.a.za&&D.a.Fa(D.ba.fn,D.r.fn),D.b("observableArray",D.ba),D.Sa.trackArrayChanges=function(i){if(!i.yb){var s,d=!1,f=null,p=0,n=i.ja,t=i.ua;i.ja=function(e){n&&n.call(i,e),"arrayChange"===e&&function t(){if(!d){d=!0;var n=i.notifySubscribers;i.notifySubscribers=function(e,t){return t&&"change"!==t||++p,n.apply(this,arguments)};var a=[].concat(i.B()||[]);f=null,s=i.U(function(e){var t;e=[].concat(e||[]),i.Ba("arrayChange")&&((!f||1<p)&&(f=D.a.Ma(a,e,{sparse:!0})),t=f);a=e,f=null,p=0,t&&t.length&&i.notifySubscribers(t,"arrayChange")})}}()},i.ua=function(e){t&&t.call(i,e),"arrayChange"!==e||i.Ba("arrayChange")||(s.p(),d=!1)},i.yb=function(e,t,n){function a(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(d&&!p){var i=[],s=e.length,o=n.length,r=0;switch(t){case"push":r=s;case"unshift":for(t=0;t<o;t++)a("added",n[t],r+t);break;case"pop":r=s-1;case"shift":s&&a("deleted",e[r],r);break;case"splice":t=Math.min(Math.max(0,n[0]<0?s+n[0]:n[0]),s);s=1===o?s:Math.min(t+(n[1]||0),s),o=t+o-2,r=Math.max(s,o);for(var c=[],u=[],l=2;t<r;++t,++l)t<s&&u.push(a("deleted",e[t],t)),t<o&&c.push(a("added",n[l],t));D.a.Cb(u,c);break;default:return}f=i}}}},D.w=D.j=function(e,s,t){function o(e,t,n){if(v&&t===c)throw Error("A 'pure' computed must not be called recursively");C[e]=n,n.sa=S++,n.ea=t.Aa()}function a(){var e,t;for(e in C)if(C.hasOwnProperty(e)&&(t=C[e],t.da.pc(t.ea)))return!0}function n(){!y&&C&&D.a.A(C,function(e,t){t.p&&t.p()}),C=null,S=0,g=!0,y=p=!1}function r(){var e=c.throttleEvaluation;e&&0<=e?(clearTimeout(T),T=setTimeout(function(){i(!0)},e)):c.nb?c.nb():i(!0)}function i(e){if(!h&&!g){if(k&&k()){if(!m)return void E()}else m=!1;h=!0;try{var n=C,a=S,t=v?ja:!S;D.k.xb({La:function(e,t){g||(a&&n[t]?(o(t,e,n[t]),delete n[t],--a):C[t]||o(t,e,y?{da:e}:e.U(r)))},w:c,Ca:t}),C={},S=0;try{var i=s?b.call(s):b()}finally{D.k.end(),a&&!y&&D.a.A(n,function(e,t){t.p&&t.p()}),p=!1}c.Wa(f,i)&&(y||d(f,"beforeChange"),f=i,y?c.Yb():e&&d(f)),t&&d(f,"awake")}finally{h=!1}S||E()}}function c(){if(0<arguments.length){if("function"!=typeof x)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return x.apply(s,arguments),this}return D.k.Ob(c),(p||y&&a())&&i(),f}function u(){return(p&&!S||y&&a())&&i(),f}function l(){return p||0<S}function d(e,t){c.notifySubscribers(e,t)}var f,p=!0,h=!1,m=!1,g=!1,b=e,v=!1,y=!1;if(b=b&&"object"==typeof b?(t=b,t.read):(t=t||{},b||t.read),"function"!=typeof b)throw Error("Pass a function that returns the value of the ko.computed");var x=t.write,w=t.disposeWhenNodeIsRemoved||t.q||null,_=t.disposeWhen||t.Pa,k=_,E=n,C={},S=0,T=null;s=s||t.owner,D.Q.call(c),D.a.Ga(c,D.j.fn),c.B=u,c.oa=function(){return S},c.qc="function"==typeof x,c.p=function(){E()},c.$=l;var I=c.Za;return c.Za=function(e){I.call(c,e),c.nb=function(){c.pb(f),p=!0,c.qb(c)}},t.pure?(y=v=!0,c.ja=function(e){if(!g&&y&&"change"==e){if(y=!1,p||a())C=null,S=0,p=!0,i();else{var n=[];D.a.A(C,function(e,t){n[t.sa]=e}),D.a.o(n,function(e,t){var n=C[e],a=n.da.U(r);a.sa=t,a.ea=n.ea,C[e]=a})}g||d(f,"awake")}},c.ua=function(e){g||"change"!=e||c.Ba("change")||(D.a.A(C,function(e,t){t.p&&(C[e]={da:t.da,sa:t.sa,ea:t.ea},t.p())}),y=!0,d(ja,"asleep"))},c.bc=c.Aa,c.Aa=function(){return y&&(p||a())&&i(),c.bc()}):t.deferEvaluation&&(c.ja=function(e){"change"!=e&&"beforeChange"!=e||u()}),D.D(c,"peek",c.B),D.D(c,"dispose",c.p),D.D(c,"isActive",c.$),D.D(c,"getDependenciesCount",c.oa),w&&(m=!0,w.nodeType&&(k=function(){return!D.a.Qa(w)||_&&_()})),y||t.deferEvaluation||i(),w&&l()&&w.nodeType&&(E=function(){D.a.C.Pb(w,E),n()},D.a.C.fa(w,E)),c},D.sc=function(e){return D.Ta(e,D.j)},d=D.r.Ac,D.j[d]=D.r,D.j.fn={equalityComparer:n},D.j.fn[d]=D.j,D.a.za&&D.a.Fa(D.j.fn,D.Q.fn),D.b("dependentObservable",D.j),D.b("computed",D.j),D.b("isComputed",D.sc),D.Nb=function(e,t){return"function"==typeof e?D.w(e,t,{pure:!0}):(e=D.a.extend({},e),e.pure=!0,D.w(e,t))},D.b("pureComputed",D.Nb),D.Vb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return A(e,function(e){for(var t=0;D.F(e)&&t<10;t++)e=e();return e})},D.toJSON=function(e,t,n){return e=D.Vb(e),D.a.jb(e,t,n)},N.prototype={save:function(e,t){var n=D.a.m(this.keys,e);0<=n?this.mb[n]=t:(this.keys.push(e),this.mb.push(t))},get:function(e){return e=D.a.m(this.keys,e),0<=e?this.mb[e]:ja}},D.b("toJS",D.Vb),D.b("toJSON",D.toJSON),D.i={s:function(e){switch(D.a.v(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?D.a.f.get(e,D.d.options.ab):D.a.M<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?D.i.s(e.options[e.selectedIndex]):ja;default:return e.value}},Y:function(e,t,n){switch(D.a.v(e)){case"option":switch(typeof t){case"string":D.a.f.set(e,D.d.options.ab,ja),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:D.a.f.set(e,D.d.options.ab,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=ja);for(var a,i=-1,s=0,o=e.options.length;s<o;++s)if(a=D.i.s(e.options[s]),a==t||""==a&&t===ja){i=s;break}(n||0<=i||t===ja&&1<e.size)&&(e.selectedIndex=i);break;default:null!==t&&t!==ja||(t=""),e.value=t}}},D.b("selectExtensions",D.i),D.b("selectExtensions.readValue",D.i.s),D.b("selectExtensions.writeValue",D.i.Y),D.h=(h=["true","false","null","undefined"],m=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,g=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),b=/[\])"'A-Za-z0-9_$]+$/,v={"in":1,"return":1,"typeof":1},y={},{ka:[],V:y,bb:L,Ea:function(e,t){function i(e,t){var n;if(!c){var a=D.getBindingHandler(e);if(a&&a.preprocess&&!(t=a.preprocess(t,e,i)))return;(a=y[e])&&(n=t,n=!(0<=D.a.m(h,n))&&(a=n.match(m),null!==a&&(a[1]?"Object("+a[1]+")"+a[2]:n)),a=n),a&&o.push("'"+e+"':function(_z){"+n+"=_z}")}r&&(t="function(){return "+t+" }"),s.push("'"+e+"':"+t)}t=t||{};var s=[],o=[],r=t.valueAccessors,c=t.bindingParams,n="string"==typeof e?L(e):e;return D.a.o(n,function(e){i(e.key||e.unknown,e.value)}),o.length&&i("_ko_property_writers","{"+o.join(",")+" }"),s.join(",")},vc:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},ra:function(e,t,n,a,i){e&&D.F(e)?!D.Da(e)||i&&e.B()===a||e(a):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](a)}}),D.b("expressionRewriting",D.h),D.b("expressionRewriting.bindingRewriteValidators",D.h.ka),D.b("expressionRewriting.parseObjectLiteral",D.h.bb),D.b("expressionRewriting.preProcessBindings",D.h.Ea),D.b("expressionRewriting._twoWayBindings",D.h.V),D.b("jsonExpressionRewriting",D.h),D.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",D.h.Ea),x=la&&"\x3c!--test--\x3e"===la.createComment("test").text,w=x?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,_=x?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,k={ul:!0,ol:!0},D.e={R:{},childNodes:function(e){return B(e)?O(e):e.childNodes},ma:function(e){if(B(e)){e=D.e.childNodes(e);for(var t=0,n=e.length;t<n;t++)D.removeNode(e[t])}else D.a.Ra(e)},T:function(e,t){if(B(e)){D.e.ma(e);for(var n=e.nextSibling,a=0,i=t.length;a<i;a++)n.parentNode.insertBefore(t[a],n)}else D.a.T(e,t)},Mb:function(e,t){B(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},Fb:function(e,t,n){n?B(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):D.e.Mb(e,t)},firstChild:function(e){return B(e)?!e.nextSibling||j(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return B(e)&&(e=R(e)),e.nextSibling&&j(e.nextSibling)?null:e.nextSibling},oc:B,Fc:function(e){return(e=(x?e.text:e.nodeValue).match(w))?e[1]:null},Kb:function(e){if(k[D.a.v(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n;n=t.firstChild;var a=null;if(n)do{if(a)a.push(n);else if(B(n)){var i=R(n,!0);i?n=i:a=[n]}else j(n)&&(a=[n])}while(n=n.nextSibling);if(n=a)for(a=t.nextSibling,i=0;i<n.length;i++)a?e.insertBefore(n[i],a):e.appendChild(n[i])}}while(t=t.nextSibling)}}},D.b("virtualElements",D.e),D.b("virtualElements.allowedBindings",D.e.R),D.b("virtualElements.emptyNode",D.e.ma),D.b("virtualElements.insertAfter",D.e.Fb),D.b("virtualElements.prepend",D.e.Mb),D.b("virtualElements.setDomNodeChildren",D.e.T),D.L=function(){this.ec={}},D.a.extend(D.L.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||D.g.getComponentNameForNode(e);case 8:return D.e.oc(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);n=n?this.parseBindingsString(n,t,e):null;return D.g.sb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t);n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return D.g.sb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return D.e.Fc(e);default:return null}},parseBindingsString:function(e,t,n,a){try{var i,s=this.ec,o=e+(a&&a.valueAccessors||"");if(!(i=s[o])){var r,c="with($context){with($data||{}){return{"+D.h.Ea(e,a)+"}}}";r=new Function("$context","$element",c),i=s[o]=r}return i(t,n)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+u.message,u}}}),D.L.instance=new D.L,D.b("bindingProvider",D.L),function(){function i(e){return function(){return e}}function p(e){return e()}function s(n){return D.a.pa(D.k.u(n),function(e,t){return function(){return n()[t]}})}function h(e,t){return s(this.getBindings.bind(this,e,t))}function o(e,t,n){var a,i=D.e.firstChild(t),s=D.L.instance,o=s.preprocessNode;if(o){for(;a=i;)i=D.e.nextSibling(a),o.call(s,a);i=D.e.firstChild(t)}for(;a=i;)i=D.e.nextSibling(a),r(e,a,n)}function r(e,t,n){var a=!0,i=1===t.nodeType;i&&D.e.Kb(t),(i&&n||D.L.instance.nodeHasBindings(t))&&(a=c(t,null,e,n).shouldBindDescendants),a&&!l[D.a.v(t)]&&o(e,t,!i)}function c(i,e,s,t){var o,r,c=D.a.f.get(i,m);if(!e){if(c)throw Error("You cannot apply bindings multiple times to the same element.");D.a.f.set(i,m,!0)}if(!c&&t&&D.Tb(i,s),e&&"function"!=typeof e)o=e;else{var n=D.L.instance,a=n.getBindingAccessors||h,u=D.j(function(){return(o=e?e(s,i):a.call(n,i,s))&&s.K&&s.K(),o},null,{q:i});o&&u.$()||(u=null)}if(o){var l=u?function(e){return function(){return p(u()[e])}}:function(e){return o[e]},d=function(){return D.a.pa(u?u():o,p)};d.get=function(e){return o[e]&&p(l(e))},d.has=function(e){return e in o},t=function f(n){var a=[],i={},s=[];return D.a.A(n,function o(e){if(!i[e]){var t=D.getBindingHandler(e);t&&(t.after&&(s.push(e),D.a.o(t.after,function(e){if(n[e]){if(-1!==D.a.m(s,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+s.join(", "));o(e)}}),s.length--),a.push({key:e,Eb:t})),i[e]=!0}}),a}(o),D.a.o(t,function(e){var t=e.Eb.init,n=e.Eb.update,a=e.key;if(8===i.nodeType&&!D.e.R[a])throw Error("The binding '"+a+"' cannot be used with virtual elements");try{"function"==typeof t&&D.k.u(function(){var e=t(i,l(a),d,s.$data,s);if(e&&e.controlsDescendantBindings){if(r!==ja)throw Error("Multiple bindings ("+r+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");r=a}}),"function"==typeof n&&D.j(function(){n(i,l(a),d,s.$data,s)},null,{q:i})}catch(c){throw c.message='Unable to process binding "'+a+": "+o[a]+'"\nMessage: '+c.message,c}})}return{shouldBindDescendants:r===ja}}function u(e){return e&&e instanceof D.N?e:new D.N(e)}D.d={};var l={script:!0,textarea:!0};D.getBindingHandler=function(e){return D.d[e]},D.N=function(n,a,i,s){var t,o=this,r="function"==typeof n&&!D.F(n),c=D.j(function(){var e=r?n():n,t=D.a.c(e);return a?(a.K&&a.K(),D.a.extend(o,a),c&&(o.K=c)):(o.$parents=[],o.$root=t,o.ko=D),o.$rawData=e,o.$data=t,i&&(o[i]=t),s&&s(o,a,t),o.$data},null,{Pa:function(){return t&&!D.a.tb(t)},q:!0});c.$()&&(o.K=c,c.equalityComparer=null,t=[],c.Zb=function(e){t.push(e),D.a.C.fa(e,function(e){D.a.ya(t,e),t.length||(c.p(),o.K=c=ja)})})},D.N.prototype.createChildContext=function(e,t,n){return new D.N(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},D.N.prototype.extend=function(n){return new D.N(this.K||this.$data,this,null,function(e,t){e.$rawData=t.$rawData,D.a.extend(e,"function"==typeof n?n():n)})};var m=D.a.f.I(),n=D.a.f.I();D.Tb=function(e,t){if(2!=arguments.length)return D.a.f.get(e,n);D.a.f.set(e,n,t),t.K&&t.K.Zb(e)},D.va=function(e,t,n){return 1===e.nodeType&&D.e.Kb(e),c(e,t,u(n),!0)},D.cc=function(e,t,n){return n=u(n),D.va(e,function a(e,t,n){return"function"==typeof e?s(e.bind(null,t,n)):D.a.pa(e,i)}(t,n,e),n)},D.Ja=function(e,t){1!==t.nodeType&&8!==t.nodeType||o(u(e),t,!0)},D.ub=function(e,t){if(!na&&ka.jQuery&&(na=ka.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||ka.document.body,r(u(e),t,!0)},D.Oa=function(e){switch(e.nodeType){case 1:case 8:var t=D.Tb(e);if(t)return t;if(e.parentNode)return D.Oa(e.parentNode)}return ja},D.gc=function(e){return(e=D.Oa(e))?e.$data:ja},D.b("bindingHandlers",D.d),D.b("applyBindings",D.ub),D.b("applyBindingsToDescendants",D.Ja),D.b("applyBindingAccessorsToNode",D.va),D.b("applyBindingsToNode",D.cc),D.b("contextFor",D.Oa),D.b("dataFor",D.gc)}(),C={},S={},D.g={get:function(e,t){var n=S.hasOwnProperty(e)?S[e]:E;n?n.tc?D.k.u(function(){t(n.definition)}):setTimeout(function(){t(n.definition)},0):$(e,t)},zb:function(e){delete S[e]},ob:M},D.g.loaders=[],D.b("components",D.g),D.b("components.get",D.g.get),D.b("components.clearCachedDefinition",D.g.zb),function(){function i(e){switch(D.a.v(e)){case"script":return D.a.ca(e.text);case"textarea":return D.a.ca(e.value);case"template":if(s(e.content))return D.a.la(e.content.childNodes)}return D.a.la(e.childNodes)}function s(e){return ka.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function u(e,t,n){"string"==typeof t.require?a||ka.require?(a||ka.require)([t.require],n):e("Uses require, but no AMD loader is present"):n(t)}function o(t){return function(e){throw Error("Component '"+t+"': "+e)}}var n={};D.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(D.g.Xa(e))throw Error("Component "+e+" is already registered");n[e]=t},D.g.Xa=function(e){return e in n},D.g.Ec=function(e){delete n[e],D.g.zb(e)},D.g.Ab={getConfig:function(e,t){t(n.hasOwnProperty(e)?n[e]:null)},loadComponent:function(t,e,n){var a=o(t);u(a,e,function(e){!function c(t,e,n,a){function i(){0==--o&&a(s)}var s={},o=2,r=n.template;n=n.viewModel,r?u(e,r,function(e){D.g.ob("loadTemplate",[t,e],function(e){s.template=e,i()})}):i(),n?u(e,n,function(e){D.g.ob("loadViewModel",[t,e],function(e){s[l]=e,i()})}):i()}(t,a,e,n)})},loadTemplate:function(e,t,n){if(e=o(e),"string"==typeof t)n(D.a.ca(t));else if(t instanceof Array)n(t);else if(s(t))n(D.a.O(t.childNodes));else if(t.element)if(t=t.element,ka.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)n(i(t));else if("string"==typeof t){var a=la.getElementById(t);a?n(i(a)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function i(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[l])n(t[l]);else if("instance"in t){var a=t.instance;n(function(){return a})}else"viewModel"in t?i(e,t.viewModel,n):e("Unknown viewModel value: "+t)}(o(e),t,n)}};var l="createViewModel";D.b("components.register",D.g.register),D.b("components.isRegistered",D.g.Xa),D.b("components.unregister",D.g.Ec),D.b("components.defaultLoader",D.g.Ab),D.g.loaders.push(D.g.Ab),D.g.$b=n}(),function(){D.g.getComponentNameForNode=function(e){return e=D.a.v(e),D.g.Xa(e)&&e},D.g.sb=function(e,t,n,a){if(1===t.nodeType){var i=D.g.getComponentNameForNode(t);if(i){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:i,params:function o(n,e){var t=n.getAttribute("params");if(t){t=r.parseBindingsString(t,e,n,{valueAccessors:!0,bindingParams:!0}),t=D.a.pa(t,function(e){return D.w(e,null,{q:n})});var a=D.a.pa(t,function(t){var e=t.B();return t.$()?D.w({read:function(){return D.a.c(t())},write:D.Da(e)&&function(e){t()(e)},q:n}):e});return a.hasOwnProperty("$raw")||(a.$raw=t),a}return{$raw:{}}}(t,n)};e.component=a?function(){return s}:s}}return e};var a,t,r=new D.L;D.a.M<9&&(D.g.register=(t=D.g.register,function(e){return la.createElement(e),t.apply(this,arguments)}),la.createDocumentFragment=(a=la.createDocumentFragment,function(){var e,t=a(),n=D.g.$b;for(e in n)n.hasOwnProperty(e)&&t.createElement(e);return t}))}(),T=0,D.d.component={init:function(r,t,e,n,c){function u(){var e=l&&l.dispose;"function"==typeof e&&e.call(l),d=null}var l,d,f=D.a.O(D.e.childNodes(r));return D.a.C.fa(r,u),D.w(function(){var n,i,e=D.a.c(t());if("string"==typeof e?n=e:(n=D.a.c(e.name),i=D.a.c(e.params)),!n)throw Error("No component name specified");var o=d=++T;D.g.get(n,function(e){if(d===o){if(u(),!e)throw Error("Unknown component '"+n+"'");!function a(e,t,n){if(t=t.template,!t)throw Error("Component '"+e+"' has no template");e=D.a.la(t),D.e.T(n,e)}(n,e,r);var t=function s(e,t,n,a){var i=e.createViewModel;return i?i.call(e,a,{element:t,templateNodes:n}):a}(e,r,f,i);e=c.createChildContext(t,void 0,function(e){e.$component=t,e.$componentTemplateNodes=f}),l=t,D.Ja(e,r)}})},null,{q:r}),{controlsDescendantBindings:!0}}},D.e.R.component=!0;var F={"class":"className","for":"htmlFor"};D.d.attr={update:function(a,e){var t=D.a.c(e())||{};D.a.A(t,function(e,t){t=D.a.c(t);var n=!1===t||null===t||t===ja;n&&a.removeAttribute(e),D.a.M<=8&&e in F?(e=F[e],n?a.removeAttribute(e):a[e]=t):n||a.setAttribute(e,t.toString()),"name"===e&&D.a.Rb(a,n?"":t.toString())})}},D.d.checked={after:["value","attr"],init:function(a,i,s){function e(){var e=a.checked,t=l?o():e;if(!D.Z.Ca()&&(!r||e)){var n=D.k.u(i);c?u!==t?(e&&(D.a.ga(n,t,!0),D.a.ga(n,u,!1)),u=t):D.a.ga(n,t,e):D.h.ra(n,s,"checked",t,!0)}}var o=D.Nb(function(){return s.has("checkedValue")?D.a.c(s.get("checkedValue")):s.has("value")?D.a.c(s.get("value")):a.value}),t="checkbox"==a.type,r="radio"==a.type;if(t||r){var c=t&&D.a.c(i())instanceof Array,u=c?o():ja,l=r||c;r&&!a.name&&D.d.uniqueName.init(a,function(){return!0}),D.w(e,null,{q:a}),D.a.n(a,"click",e),D.w(function n(){var e=D.a.c(i());a.checked=c?0<=D.a.m(e,o()):t?e:o()===e},null,{q:a})}}},D.h.V.checked=!0,D.d.checkedValue={update:function(e,t){e.value=D.a.c(t())}},D.d.css={update:function(n,e){var t=D.a.c(e());null!==t&&"object"==typeof t?D.a.A(t,function(e,t){t=D.a.c(t),D.a.Ia(n,e,t)}):(t=String(t||""),D.a.Ia(n,n.__ko__cssValue,!1),n.__ko__cssValue=t,D.a.Ia(n,t,!0))}},D.d.enable={update:function(e,t){var n=D.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},D.d.disable={update:function(e,t){D.d.enable.update(e,function(){return!D.a.c(t())})}},D.d.event={init:function(e,s,o,r,c){var t=s()||{};D.a.A(t,function(i){"string"==typeof i&&D.a.n(e,i,function(e){var t,n=s()[i];if(n){try{var a=D.a.O(arguments);r=c.$data,a.unshift(r),t=n.apply(r,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===o.get(i+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},D.d.foreach={Ib:function(n){return function(){var e=n(),t=D.a.cb(e);return t&&"number"!=typeof t.length?(D.a.c(e),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:D.P.Va}):{foreach:e,templateEngine:D.P.Va}}},init:function(e,t){return D.d.template.init(e,D.d.foreach.Ib(t))},update:function(e,t,n,a,i){return D.d.template.update(e,D.d.foreach.Ib(t),n,a,i)}},D.h.ka.foreach=!1,D.e.R.foreach=!0,D.d.hasfocus={init:function(i,s,o){function e(e){i.__ko_hasfocusUpdating=!0;var t=i.ownerDocument;if("activeElement"in t){var n;try{n=t.activeElement}catch(a){n=t.body}e=n===i}t=s(),D.h.ra(t,o,"hasfocus",e,!0),i.__ko_hasfocusLastValue=e,i.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),n=e.bind(null,!1);D.a.n(i,"focus",t),D.a.n(i,"focusin",t),D.a.n(i,"blur",n),D.a.n(i,"focusout",n)},update:function(e,t){var n=!!D.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),D.k.u(D.a.qa,null,[e,n?"focusin":"focusout"]))}},D.h.V.hasfocus=!0,D.d.hasFocus=D.d.hasfocus,D.h.V.hasFocus=!0,D.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){D.a.gb(e,t())}},t("if"),t("ifnot",!1,!0),t("with",!0,!1,function(e,t){return e.createChildContext(t)});var P,q,U,K={};function Q(e,t,n,a){e=D.h.bb(e);for(var i=D.h.ka,s=0;s<e.length;s++){var o=e[s].key;if(i.hasOwnProperty(o)){var r=i[o];if("function"==typeof r){if(o=r(e[s].value))throw Error(o)}else if(!r)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+D.h.Ea(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+t}function V(e,t,n,a,i){var s,o,r,c,u,l=Math.min,d=Math.max,f=[],p=e.length,h=t.length,m=h-p||1,g=p+h+1;for(s=0;s<=p;s++)for(c=r,f.push(r=[]),u=l(h,s+m),o=d(0,s-1);o<=u;o++)r[o]=o?s?e[s-1]===t[o-1]?c[o-1]:l(c[o]||g,r[o-1]||g)+1:o+1:s+1;for(l=[],d=[],m=[],s=p,o=h;s||o;)h=f[s][o]-1,o&&h===f[s][o-1]?d.push(l[l.length]={status:n,value:t[--o],index:o}):s&&h===f[s-1][o]?m.push(l[l.length]={status:a,value:e[--s],index:s}):(--o,--s,i.sparse||l.push({status:"retained",value:t[o]}));return D.a.Cb(d,m,10*p),l.reverse()}function H(t,n,a,i,s){var o=[],e=D.j(function(){var e=n(a,s,D.a.na(o,t))||[];0<o.length&&(D.a.Qb(o,e),i&&D.k.u(i,null,[a,e,s])),o.length=0,D.a.ia(o,e)},null,{q:t,Pa:function(){return!D.a.tb(o)}});return{aa:o,j:e.$()?e:ja}}D.d.options={init:function(e){if("select"!==D.a.v(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(a,e,i){function t(){return D.a.xa(a.options,function(e){return e.selected})}function s(e,t,n){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:n}function n(e,t){if(p&&u)D.i.Y(a,D.a.c(i.get("value")),!0);else if(f.length){var n=0<=D.a.m(f,D.i.s(t[0]));D.a.Sb(t[0],n),p&&!n&&D.k.u(D.a.qa,null,[a,"change"])}}var o=a.multiple,r=0!=a.length&&o?a.scrollTop:null,c=D.a.c(e()),u=i.get("valueAllowUnset")&&i.has("value"),l=i.get("optionsIncludeDestroyed");e={};var d,f=[];u||(o?f=D.a.Ka(t(),D.i.s):0<=a.selectedIndex&&f.push(D.i.s(a.options[a.selectedIndex]))),c&&("undefined"==typeof c.length&&(c=[c]),d=D.a.xa(c,function(e){return l||e===ja||null===e||!D.a.c(e._destroy)}),i.has("optionsCaption")&&(c=D.a.c(i.get("optionsCaption")),null!==c&&c!==ja&&d.unshift(K)));var p=!1;e.beforeRemove=function(e){a.removeChild(e)},c=n,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(c=function(e,t){n(0,t),D.k.u(i.get("optionsAfterRender"),null,[t[0],e!==K?e:ja])}),D.a.fb(a,d,function(e,t,n){return n.length&&(f=!u&&n[0].selected?[D.i.s(n[0])]:[],p=!0),t=a.ownerDocument.createElement("option"),e===K?(D.a.Ha(t,i.get("optionsCaption")),D.i.Y(t,ja)):(n=s(e,i.get("optionsValue"),e),D.i.Y(t,D.a.c(n)),e=s(e,i.get("optionsText"),n),D.a.Ha(t,e)),[t]},e,c),D.k.u(function(){u?D.i.Y(a,D.a.c(i.get("value")),!0):(o?f.length&&t().length<f.length:f.length&&0<=a.selectedIndex?D.i.s(a.options[a.selectedIndex])!==f[0]:f.length||0<=a.selectedIndex)&&D.a.qa(a,"change")}),D.a.kc(a),r&&20<Math.abs(r-a.scrollTop)&&(a.scrollTop=r)}},D.d.options.ab=D.a.f.I(),D.d.selectedOptions={after:["options","foreach"],init:function(n,a,i){D.a.n(n,"change",function(){var e=a(),t=[];D.a.o(n.getElementsByTagName("option"),function(e){e.selected&&t.push(D.i.s(e))}),D.h.ra(e,i,"selectedOptions",t)})},update:function(e,t){if("select"!=D.a.v(e))throw Error("values binding applies only to SELECT elements");var n=D.a.c(t());n&&"number"==typeof n.length&&D.a.o(e.getElementsByTagName("option"),function(e){var t=0<=D.a.m(n,D.i.s(e));D.a.Sb(e,t)})}},D.h.V.selectedOptions=!0,D.d.style={update:function(n,e){var t=D.a.c(e()||{});D.a.A(t,function(e,t){t=D.a.c(t),null!==t&&t!==ja&&!1!==t||(t=""),n.style[e]=t})}},D.d.submit={init:function(a,i,e,t,s){if("function"!=typeof i())throw Error("The value for a submit binding must be a function");D.a.n(a,"submit",function(e){var t,n=i();try{t=n.call(s.$data,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},D.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){D.a.Ha(e,t())}},D.e.R.text=!0,function(){if(ka&&ka.navigator)var e=function(e){if(e)return parseFloat(e[1])},l=ka.opera&&ka.opera.version&&parseInt(ka.opera.version()),t=ka.navigator.userAgent,d=e(t.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),f=e(t.match(/Firefox\/([^ ]*)/));if(D.a.M<10)var a=D.a.f.I(),i=D.a.f.I(),s=function(e){var t=this.activeElement;(t=t&&D.a.f.get(t,i))&&t(e)},p=function(e,t){var n=e.ownerDocument;D.a.f.get(n,a)||(D.a.f.set(n,a,!0),D.a.n(n,"selectionchange",s)),D.a.f.set(e,i,t)};D.d.textInput={init:function(n,t,a){function e(e,t){D.a.n(n,e,t)}function i(){o||(r=n.value,o=setTimeout(s,4))}function s(){clearTimeout(o),r=o=ja;var e=n.value;c!==e&&(c=e,D.h.ra(t(),a,"textInput",e))}var o,r,c=n.value;D.a.M<10?(e("propertychange",function(e){"value"===e.propertyName&&s()}),8==D.a.M&&(e("keyup",s),e("keydown",s)),8<=D.a.M&&(p(n,s),e("dragend",i))):(e("input",s),d<5&&"textarea"===D.a.v(n)?(e("keydown",i),e("paste",i),e("cut",i)):l<11?e("keydown",i):f<4&&(e("DOMAutoComplete",s),e("dragdrop",s),e("drop",s))),e("change",s),D.w(function u(){var e=D.a.c(t());null!==e&&e!==ja||(e=""),r!==ja&&e===r?setTimeout(u,4):n.value!==e&&(c=e,n.value=e)},null,{q:n})}},D.h.V.textInput=!0,D.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),D.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++D.d.uniqueName.fc;D.a.Rb(e,n)}}},D.d.uniqueName.fc=0,D.d.value={after:["options","foreach"],init:function(a,i,s){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var e=["change"],t=s.get("valueUpdate"),n=!1,o=null;t&&("string"==typeof t&&(t=[t]),D.a.ia(e,t),e=D.a.wb(e));var r=function(){o=null,n=!1;var e=i(),t=D.i.s(a);D.h.ra(e,s,"value",t)};!D.a.M||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=D.a.m(e,"propertychange")||(D.a.n(a,"propertychange",function(){n=!0}),D.a.n(a,"focus",function(){n=!1}),D.a.n(a,"blur",function(){n&&r()})),D.a.o(e,function(e){var t=r;D.a.Dc(e,"after")&&(t=function(){o=D.i.s(a),setTimeout(r,0)},e=e.substring(5)),D.a.n(a,e,t)});var c=function(){var e=D.a.c(i()),t=D.i.s(a);if(null!==o&&e===o)setTimeout(c,0);else if(e!==t)if("select"===D.a.v(a)){var n=s.get("valueAllowUnset");t=function(){D.i.Y(a,e,n)};t(),n||e===D.i.s(a)?setTimeout(t,0):D.k.u(D.a.qa,null,[a,"change"])}else D.i.Y(a,e)};D.w(c,null,{q:a})}else D.va(a,{checkedValue:i})},update:function(){}},D.h.V.value=!0,D.d.visible={update:function(e,t){var n=D.a.c(t()),a="none"!=e.style.display;n&&!a?e.style.display="":!n&&a&&(e.style.display="none")}},D.d.click={init:function(e,t,n,a,i){return D.d.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,a,i)}},D.J=function(){},D.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},D.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},D.J.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||la;var n=t.getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new D.t.l(n)}if(1==e.nodeType||8==e.nodeType)return new D.t.ha(e);throw Error("Unknown template type: "+e)},D.J.prototype.renderTemplate=function(e,t,n,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,n,a)},D.J.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},D.J.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},D.b("templateEngine",D.J),D.kb=(P=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,q=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{lc:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return D.kb.xc(e,t)},n)},xc:function(e,s){return e.replace(P,function(e,t,n,a,i){return Q(i,t,n,s)}).replace(q,function(e,t){return Q(t,"\x3c!-- ko --\x3e","#comment",s)})},dc:function(a,i){return D.H.$a(function(e,t){var n=e.nextSibling;n&&n.nodeName.toLowerCase()===i&&D.va(n,a,t)})}}),D.b("__tr_ambtns",D.kb.dc),function(){D.t={},D.t.l=function(e){this.l=e},D.t.l.prototype.text=function(){var e=D.a.v(this.l);e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.l[e];var t=arguments[0];"innerHTML"===e?D.a.gb(this.l,t):this.l[e]=t};var t=D.a.f.I()+"_";D.t.l.prototype.data=function(e){if(1===arguments.length)return D.a.f.get(this.l,t+e);D.a.f.set(this.l,t+e,arguments[1])};var n=D.a.f.I();D.t.ha=function(e){this.l=e},D.t.ha.prototype=new D.t.l,D.t.ha.prototype.text=function(){if(0==arguments.length){var e=D.a.f.get(this.l,n)||{};return e.lb===ja&&e.Na&&(e.lb=e.Na.innerHTML),e.lb}D.a.f.set(this.l,n,{lb:arguments[0]})},D.t.l.prototype.nodes=function(){if(0==arguments.length)return(D.a.f.get(this.l,n)||{}).Na;D.a.f.set(this.l,n,{Na:arguments[0]})},D.b("templateSources",D.t),D.b("templateSources.domElement",D.t.l),D.b("templateSources.anonymousTemplate",D.t.ha)}(),function(){function a(e,t,n){var a;for(t=D.e.nextSibling(t);e&&(a=e)!==t;)e=D.e.nextSibling(a),n(a,e)}function u(e,t){if(e.length){var i=e[0],s=e[e.length-1],n=i.parentNode,o=D.L.instance,r=o.preprocessNode;if(r){if(a(i,s,function(e,t){var n=e.previousSibling,a=r.call(o,e);a&&(e===i&&(i=a[0]||t),e===s&&(s=a[a.length-1]||n))}),e.length=0,!i)return;i===s?e.push(i):(e.push(i,s),D.a.na(e,n))}a(i,s,function(e){1!==e.nodeType&&8!==e.nodeType||D.ub(t,e)}),a(i,s,function(e){1!==e.nodeType&&8!==e.nodeType||D.H.Xb(e,[t])}),D.a.na(e,n)}}function c(e){return e.nodeType?e:0<e.length?e[0]:null}function l(e,t,n,a,i){i=i||{};var s=(e&&c(e)||n||{}).ownerDocument,o=i.templateEngine||f;if(D.kb.lc(n,o,s),n=o.renderTemplate(n,a,i,s),"number"!=typeof n.length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,t){case"replaceChildren":D.e.T(e,n),s=!0;break;case"replaceNode":D.a.Qb(e,n),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return s&&(u(n,a),i.afterRender&&D.k.u(i.afterRender,null,[n,a.$data])),n}function d(e,t,n){return D.F(e)?e():"function"==typeof e?e(t,n):e}var f;D.hb=function(e){if(e!=ja&&!(e instanceof D.J))throw Error("templateEngine must inherit from ko.templateEngine");f=e},D.eb=function(n,a,i,s,o){if(i=i||{},(i.templateEngine||f)==ja)throw Error("Set a template engine before calling renderTemplate");if(o=o||"replaceChildren",s){var r=c(s);return D.j(function(){var e=a&&a instanceof D.N?a:new D.N(D.a.c(a)),t=d(n,e.$data,e);e=l(s,o,t,e,i);"replaceNode"==o&&(s=e,r=c(s))},null,{Pa:function(){return!r||!D.a.Qa(r)},q:r&&"replaceNode"==o?r.parentNode:r})}return D.H.$a(function(e){D.eb(n,a,i,e,"replaceNode")})},D.Cc=function(a,t,i,n,s){function o(e,t){u(t,c),i.afterRender&&i.afterRender(t,e),c=null}function r(e,t){c=s.createChildContext(e,i.as,function(e){e.$index=t});var n=d(a,e,c);return l(null,"ignoreTargetNode",n,c,i)}var c;return D.j(function(){var e=D.a.c(t)||[];"undefined"==typeof e.length&&(e=[e]),e=D.a.xa(e,function(e){return i.includeDestroyed||e===ja||null===e||!D.a.c(e._destroy)}),D.k.u(D.a.fb,null,[n,e,r,i,o])},null,{q:n})};var r=D.a.f.I();D.d.template={init:function(e,t){var n=D.a.c(t());if("string"==typeof n||n.name)D.e.ma(e);else{if("nodes"in n){if(n=n.nodes||[],D.F(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=D.e.childNodes(e);n=D.a.Jb(n),new D.t.ha(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(e,t,n,a,i){var s,o=t();t=D.a.c(o),n=!0,a=null,"string"==typeof t?t={}:(o=t.name,"if"in t&&(n=D.a.c(t["if"])),n&&"ifnot"in t&&(n=!D.a.c(t.ifnot)),s=D.a.c(t.data)),"foreach"in t?a=D.Cc(o||e,n&&t.foreach||[],t,e,i):n?(i="data"in t?i.createChildContext(s,t.as):i,a=D.eb(o||e,i,t,e)):D.e.ma(e),i=a,(s=D.a.f.get(e,r))&&"function"==typeof s.p&&s.p(),D.a.f.set(e,r,i&&i.$()?i:ja)}},D.h.ka.template=function(e){return e=D.h.bb(e),1==e.length&&e[0].unknown||D.h.vc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},D.e.R.template=!0}(),D.b("setTemplateEngine",D.hb),D.b("renderTemplate",D.eb),D.a.Cb=function(e,t,n){var a,i,s,o,r;if(e.length&&t.length)for(a=i=0;(!n||a<n)&&(o=e[i]);++i){for(s=0;r=t[s];++s)if(o.value===r.value){o.moved=r.index,r.moved=o.index,t.splice(s,1),a=s=0;break}a+=s}},D.a.Ma=function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],t=t||[],e.length<=t.length?V(e,t,"added","deleted",n):V(t,e,"deleted","added",n)},D.b("utils.compareArrays",D.a.Ma),U=D.a.f.I(),D.a.fb=function(n,e,t,a,i){function s(e,t){g=c[t],p!==t&&(y[e]=g),g.Ua(p++),D.a.na(g.aa,n),d.push(g),m.push(g)}function o(t,n){if(t)for(var a=0,e=n.length;a<e;a++)n[a]&&D.a.o(n[a].aa,function(e){t(e,a,n[a].wa)})}e=e||[],a=a||{};var r=D.a.f.get(n,U)===ja,c=D.a.f.get(n,U)||[],u=D.a.Ka(c,function(e){return e.wa}),l=D.a.Ma(u,e,a.dontLimitMoves),d=[],f=0,p=0,h=[],m=[];e=[];for(var g,b,v,y=[],x=(u=[],0);b=l[x];x++)switch(v=b.moved,b.status){case"deleted":v===ja&&(g=c[f],g.j&&g.j.p(),h.push.apply(h,D.a.na(g.aa,n)),a.beforeRemove&&(e[x]=g,m.push(g))),f++;break;case"retained":s(x,f++);break;case"added":v!==ja?s(x,v):(g={wa:b.value,Ua:D.r(p++)},d.push(g),m.push(g),r||(u[x]=g))}o(a.beforeMove,y),D.a.o(h,a.beforeRemove?D.S:D.removeNode);var w;for(x=0,r=D.e.firstChild(n);g=m[x];x++){for(g.aa||D.a.extend(g,H(n,t,g.wa,i,g.Ua)),f=0;l=g.aa[f];r=l.nextSibling,w=l,f++)l!==r&&D.e.Fb(n,l,w);!g.rc&&i&&(i(g.wa,g.aa,g.Ua),g.rc=!0)}o(a.beforeRemove,e),o(a.afterMove,y),o(a.afterAdd,u),D.a.f.set(n,U,d)},D.b("utils.setDomNodeChildrenFromArrayMapping",D.a.fb),D.P=function(){this.allowTemplateRewriting=!1},D.P.prototype=new D.J,D.P.prototype.renderTemplateSource=function(e,t,n,a){return(t=D.a.M<9||!e.nodes?null:e.nodes())?D.a.O(t.cloneNode(!0).childNodes):(e=e.text(),D.a.ca(e,a))},D.P.Va=new D.P,D.hb(D.P.Va),D.b("nativeTemplateEngine",D.P),function(){D.Ya=function(){var s=this.uc=function(){if(!na||!na.tmpl)return 0;try{if(0<=na.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(s){}return 1}();this.renderTemplateSource=function(e,t,n,a){if(a=a||la,n=n||{},s<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var i=e.data("precompiled");return i||(i=e.text()||"",i=na.template(null,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),e.data("precompiled",i)),e=[t.$data],t=na.extend({koBindingContext:t},n.templateOptions),t=na.tmpl(i,e,t),t.appendTo(a.createElement("div")),na.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){la.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<s&&(na.tmpl.tag.ko_code={open:"__.push($1 || '');"},na.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},D.Ya.prototype=new D.J;var e=new D.Ya;0<e.uc&&D.hb(e),D.b("jqueryTmplTemplateEngine",D.Ya)}()},"function"==typeof define&&define.amd?define(["exports","require"],pa):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?pa(module.exports||exports):pa(ka.ko={})}(),function(e){"use strict";function t(){return window.Sizzle?window.Sizzle:window.jQuery&&window.jQuery.find?window.jQuery.find:function(e,t){return"object"==typeof t&&t.querySelectorAll?t.querySelectorAll(e):"string"==typeof t?document.querySelectorAll(t+" "+e):document.querySelectorAll(e)}}e.Selector={$:function(e){return document.getElementById(e)},$$:t(),_createSelectorAlias:t}}(this),function(r){"use strict";function i(){var e=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}r.DOMEvent={on:document.addEventListener?function(e,t,n,a){if(!e)throw new Error('failed to add event. Element: "'+e+'", Event: "'+t+'", handler: '+n.toString());i()&&a&&a.constructor==Object?a.hasOwnProperty("capture")||(a.capture=!1):a=!1,e.addEventListener(t,n,a)}:function(e,t,n){if(!e)throw new Error('failed to add event. Element: "'+e+'", Event: "'+t+'", handler: '+n.toString());e.attachEvent("on"+t,n)},off:document.removeEventListener?function(e,t,n,a){i()&&a&&a.constructor==Object?a.hasOwnProperty("capture")||(a.capture=!1):a=!1,e.removeEventListener(t,n,a)}:function(e,t,n){e.detachEvent("on"+t,n)},preventDefault:function(e){var t=e||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(e){var t=e||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(e){var t=e||window.event;return t.target||t.srcElement}},r.DOMEvent.delegate=function t(a,i,e,s){if("undefined"==typeof Selector)throw new Error("dependency not found. you should include selector-alias module to use delegate function.");if(!a)throw new Error('failed to delegate event. Element: "'+a+'", Selector: "'+i+'", Event: "'+e+'", handler: '+s.toString());var o=Selector.$$;r.DOMEvent.on(a,e,function(e){var t=r.DOMEvent.getTarget(e),n=o(i,a);for(n=Array.prototype.slice.apply(n);t&&t!==a;){if(1===t.nodeType&&-1<n.indexOf(t)){s(e,t);break}t=t.parentNode}})}}(window),function(e){"use strict";var a;"function"!=typeof Object.create&&(Object.create=(a=function(){},function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");a.prototype=e||{},void 0!==t&&Object.defineProperties(a.prototype,t);var n=new a;return a.prototype=null,null===e&&(n.__proto__=null),n}));var s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;function o(){}o.extend=function(e){var i=this.prototype,t=Object.create(i);for(var n in e)t[n]="function"==typeof e[n]&&"function"==typeof i[n]&&s.test(e[n])?function(n,a){return function(){var e=this._super;this._super=i[n];var t=a.apply(this,arguments);return this._super=e,t}}(n,e[n]):e[n];var a=function(){"function"==typeof this.init&&this.init.apply(this,arguments)};return a.prototype=t,t.constructor=a,a.extend=o.extend,a},e.Class=o}(this),function(e){"use strict";e.Observer=Class.extend({on:function(e,t){for(var n=[].concat(e),a=0,i=n.length;a<i;a++)this.addListener.apply(this,[n[a],t]);return this},addListener:function(e,t){var n=this.getListeners(e);return n.push(t),this},once:function(e,t){if(t){var n=this,a=function(){n.off(e,a),t.apply(this,arguments)};t.__onetime_listener=a,this.on(e,a)}},emit:function(e){for(var t=[].concat(e),n=[].slice.call(arguments,1),a=0,i=t.length;a<i;a++)this._emit(t[a],n);return this},_emit:function(e,t){var n=this.getListeners(e).slice(0);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)try{n[a].apply(this,t)}catch(s){throw s}},getListeners:function(e){return this.listeners=this.listeners||{},this.listeners[e]=this.listeners[e]||[],this.listeners[e]},off:function(e,t){var n=[].concat(e);t&&"function"==typeof t.__onetime_listener&&(t=t.__onetime_listener);for(var a=0,i=n.length;a<i;a++)this.removeListener.apply(this,[n[a],t]);return t&&"function"==typeof t.__onetime_listener&&delete t.__onetime_listener,this},removeListener:function(e,t){var n=this.getListeners(e);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)if(n[a]===t||n[a].__original__===t){n.splice(a,1);break}return this},destroy:function(){this.listeners=null}})}(this);var templates={"answer-company-stock":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',"answer-exchange":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' KEB\')"></span>',"answer-korea-weather":'<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',"answer-lotto":'<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>","answer-stock":'<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',"answer-world-weather":'<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',"recent-footer":'<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}"> </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',"recent-layer":'\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',"recent-list":'\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',"suggest-answer":'\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',"suggest-container":'<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',"suggest-footer":'<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">?</a>\n</div>',"suggest-layer":'\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',"suggest-list":'<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n'};window.suggest_templates=templates,function(){"use strict";function f(e){var t=e.split("."),n=t[0],a=t[1],i=[],s=1;if(n.length<4)return e;for(var o=n.length-1;0<=o;o--)i.push(n.charAt(o)),0<o&&s%3==0&&i.push(","),s++;return i.reverse(),a&&0<a.length&&i.push("."+a),i.join("")}function l(e,t,n){var a,i,s,o=function r(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,a=e.length;n<a;n++)t[n]=r(e[n]);return t}if(e instanceof Object){for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=r(e[i]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}(e)||{};for(a in t)i=t[a],i&&(s="object"==typeof i&&1===i.nodeType,s?o[a]=t[a]:t.hasOwnProperty(a)&&(o[a]&&!n||(o[a]="object"==typeof t[a]?l(o[a],t[a],!0):t[a])));return o}function e(e,t){ko.components.register(e,l(t,{template:function n(e){return document.getElementById(e+"-template")?{element:e+"-template"}:suggest_templates[e]}(e),synchronous:!0},!1))}function i(){ko.templateSources.stringTemplate=function(e,t){this.templateName=e,this.templates=t},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(e,t){if(this.templates._data=this.templates._data||{},this.templates._data[this.templateName]=this.templates._data[this.templateName]||{},1===arguments.length)return this.templates._data[this.templateName][e];this.templates._data[this.templateName][e]=t},text:function(e){if(0===arguments.length&&this.templates[this.templateName])return this.templates[this.templateName];this.templates[this.templateName]=e}}),ko.setTemplateEngine(function t(e,a){return e.makeTemplateSource=function(e,t){var n=document.getElementById(e+"-template");return n?new ko.templateSources.domElement(n):new ko.templateSources.stringTemplate(e,a)},e}(new ko.nativeTemplateEngine,suggest_templates))}e("answer-company-stock",{viewModel:function(e){var t=parseInt(e.changeCode,10),n=e.changeValue,a=e.changeRatio,i="",s="",o=null,r=null;t<3?(o="up",i="+",s="txt_red2",r=1<t?"":""):3<t?(o="down",i="-",s="txt_blue2",r=t<5?"":""):(o="equal",r="",n=a,a=null),this.name=e.name,this.code=e.code,this.price=e.price,this.date=e.date,this.status=o,this.statusText=r,this.changeValue=n?n.replace(/[+-]/,""):n,this.changeRatio=a?i+a.replace(/[+-]/,""):a,this.priceColor=s,this.changePrice=s+" ico_arrow_"+o,this.querySource=e.querySource}}),e("answer-exchange",{viewModel:function(e){var t=e.prev,n="",a=null,i=e.exchangeAmount||e.base_rate;e.exchangeAmount||(0<t?(a="up",n="txt_red2"):t<0?(a="down",n="txt_blue2"):(a="equal",t=null)),this.country=e.country,this.code=e.code,this.base_rate=f(i),this.date_time=e.date_time,this.priceColor=n,this.exchangeRatio=null,this.querySource=e.querySource,null!==a&&(this.exchangeRatio={status:n+" ico_arrow_"+a,priceColor:n,prev:0<t?t:-t,ratio:e.ratio})}}),e("answer-korea-weather",{viewModel:function(e){this.icon40="ico_w"+(parseInt(e.icon,10)<10?"0":"")+e.icon,this.areaname=e.areaname,this.wtext5s=e.description,this.temp=e.temperature,this.announce=e.announce,this.querySource=e.querySource}}),e("answer-lotto",{viewModel:function(e){this.num1=parseInt(e.num1,10),this.num2=parseInt(e.num2,10),this.num3=parseInt(e.num3,10),this.num4=parseInt(e.num4,10),this.num5=parseInt(e.num5,10),this.num6=parseInt(e.num6,10),this.bonus=parseInt(e.bonus,10),this.getNumClassByLotto=function(e){return e<=10?"num1":e<=20?"num10":e<=30?"num20":e<=40?"num30":"num40"},this.numClass1=this.getNumClassByLotto(e.num1),this.numClass2=this.getNumClassByLotto(e.num2),this.numClass3=this.getNumClassByLotto(e.num3),this.numClass4=this.getNumClassByLotto(e.num4),this.numClass5=this.getNumClassByLotto(e.num5),this.numClass6=this.getNumClassByLotto(e.num6),this.numClassBonus=this.getNumClassByLotto(e.bonus),this.seq=e.seq,this.year=e.year,this.month=e.month,this.day=e.day,this.querySource=e.querySource}});var a=1,s=2,o=3,r=8,c=5,u=6,d=7,p=["IXIC","DJI"];e("answer-stock",{viewModel:function(e){var t="",n="",a="",i=null,s=e.price_change,o=e.code,r=p,c=!1,u=e.date;this.priceColor="",this.name="",this.querySource=e.querySource;for(var l=0,d=r.length;l!==d;l++)if(r[l]===o){n='<span class="txt_time_k">,</span> ',c=!0;break}c||("close"===e.status?(a=' <span class="txt_time_k"> </span>',u=u.split(" ")[0]):a=' <span class="txt_time_k"></span>'),0<s?(this.priceColor="txt_red2",i="up",t="+"):s<0?(this.priceColor="txt_blue2",i="down"):(i="equal",s=null),"KOSDAQ"===o?this.name="(KOSDAQ)":"KOSPI"===o?this.name="(KOSPI)":"IXIC"===o?this.name=" (IXIC)":"DJI"===o?this.name=" (DJI)":"FUTURE"===o?this.name="(FUTURE)":"KOSPI200"===o&&(this.name="200(KOSPI200)"),this.price=f(e.price),this.price_change=s.replace(/[+-]/,""),this.date=n+u+a,this.price_change_rate=t+e.price_change_rate,this.status=this.priceColor+" ico_arrow_"+i}}),e("answer-world-weather",{viewModel:function(e){this.icon40="ico_w"+e.icon40,this.country=e.country,this.city=e.city,this.wtext=e.wtext,this.mintemp=e.mintemp,this.maxtemp=e.maxtemp,this.ddate=e.ddate,this.querySource=e.querySource}});var t={autoFocus:"NORMAL",suggestLimit:20,recentLimit:10,searchURL:"http://search.daum.net/search",isReverse:!1,APIServer:{host:"//suggest.search.daum.net/sushi/pc/get",queries:{htype:"position"}},enableRecentList:!1,enableFooter:!1},h={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},n={"answer-company-stock":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',"answer-exchange":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' KEB\')"></span>',"answer-korea-weather":'<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',"answer-lotto":'<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>","answer-stock":'<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',"answer-world-weather":'<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',"recent-footer":'<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}"> </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',"recent-layer":'\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',"recent-list":'\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',"suggest-answer":'\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',"suggest-container":'<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',"suggest-footer":'<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">?</a>\n</div>',"suggest-layer":'\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',"suggest-list":'<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n'};window.suggest_templates=n;var m=Class.extend({init:function(e,t){var n=this,a=document.getElementById(e.inputEl),i=a.value||"";this.postbox=t,this.enableUpdateQuery=!0,this.searchQuery=ko.observable(i),this.defaultQuery=i,this.isSelected=ko.observable(!1),this.searchQuery.subscribe(function(e){n.enableUpdateQuery&&(n.defaultQuery=e,n.postbox.notifySubscribers(e,"suggestQuery"))}),this.postbox.subscribe(function(e){n.enableUpdateQuery=!1,e?n.searchQuery(e):n.searchQuery(n.defaultQuery),n.enableUpdateQuery=!0},n,"selectedIndex")},setSelectedQuery:function(e){this.enableUpdateQuery=!1,this.searchQuery(e)}}),g={get:function(e,t,n,a){a+=" ";var i,s,o,r,c=a.split("");for(i=0;i<n.length;i++)s=n[i][0],o=n[i][1]-1,c[s]="<strong>"+u(c[s]),r=c[o],s+1===o&&(r=u(r)),c[o]=r+"</strong>";function u(e){var t;return e&&(t=e.replace(/</gi,"&lt;"),t=t.replace(/>/gi,"&gt;")),t}return c.join("")}},b=Class.extend({templateName:"suggest-list",init:function(e,t){if(this.options=t,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),e.tltm){var n=this.options.searchLayer.getElementsByTagName("fieldset")[0];if(n!==undefined&&!document.getElementById("tltm")){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name","tltm"),a.setAttribute("value",e.tltm),a.setAttribute("id","tltm"),n.appendChild(a)}}this._parse(e)},get:function(e){return this.items()[e]},_parse:function(e){var t=[],n=e.q,a=Math.min(e.subkeys.length,this.options.suggestLimit),i=n.replace(/^\s+|\s+$/g,"").length;e.subkeys;for(var s=0;s<a;s+=1){var o=e.subkeys[s],r=e.highlighted[s];t.push(v(o,n,r,a,s))}this.options.isReverse&&t.reverse(),this.items(t)}});function v(e,t,n,a,i){return{isActivated:ko.observable(!1),type:"SUGGEST",item:e,highlight:function(){return g.get(this.item,t,n,e)},q:e,total:a,index:i}}var y=Class.extend({templateName:"suggest-answer",init:function(e,t){this.options=t,this.item=ko.observable(null),this.whichTemplateToUse=ko.observable(),this.length=ko.computed(function(){return null===this.item()?0:1},this),this._parse(e)},get:function(){return this.item()},_parse:function(e){if(!e.success||!e.answer)return this.item(null),!1;var t=e.answer,n=parseInt(t.collectionId,10);if(4!==n){switch(n){case r:this.whichTemplateToUse("answer-korea-weather");break;case o:this.whichTemplateToUse("answer-world-weather");break;case a:this.whichTemplateToUse("answer-lotto");break;case s:case d:this.whichTemplateToUse("answer-exchange");break;case c:this.whichTemplateToUse("answer-stock");break;case u:this.whichTemplateToUse("answer-company-stock")}t.type="ANSWER",t.isActivated=ko.observable(!1),this.item(t)}}}),x=Class.extend({init:function(e){this.isShiftOn=!1,this.suggestList=e},getBaseIndex:function(){return-1},onKeyDown:function(e,t){var n=t.keyCode,a=this.suggestList,i=a.activeIndex();switch(n){case h.UP:DOMEvent.preventDefault(t),a.visible()&&a.moveUp(i);break;case h.DOWN:DOMEvent.preventDefault(t),a.visible()?a.moveDown():a.show();break;case h.TAB:DOMEvent.preventDefault(t),a.visible()&&(this.isShiftOn?a.moveUp():a.moveDown());break;case h.ESC:a.cancel();break;case h.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(e,t){var n=t.keyCode;n===h.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),w=Class.extend({init:function(e,t){this.postbox=t,this.options=e,this.lists=ko.observableArray([]),this.listsByType={},this.keyboardDelegate=new x(this),this.activeIndex=ko.observable(this.getBaseIndex()),this.selectIndex=ko.observable(this.getBaseIndex()),this.visible=ko.observable(!1),this.cachedAnswerData=null,this.accessible=ko.observable(),this.length=ko.computed(function(){for(var e=0,t=this.lists(),n=0;n<t.length;n++){var a=t[n];e+=a.length()}return 0===e&&this.visible(!1),this.updateAccessiblity(e),e},this),this.setSubscribe()},addList:function(e,t){this.lists.push(t),this.listsByType[e]=t},setSubscribe:function(){var t=this;this.selectIndex.subscribe(function(e){t.postbox.notifySubscribers(t.getKeyword(e),"selectedIndex")}),this.activeIndex.subscribe(function(e){t.postbox.notifySubscribers(t.getItem(e),"activate")}),this.postbox.subscribe(function(e){t.update(e)},this,"suggestQuery")},getKeyword:function(e){var t=this.get(e);return t?t.q||t.querySource:""},getItem:function(e){var t=this.get(e);return t?{data:this.getKeyword(e),index:this.options.isReverse?this.length()-(e+1):e,type:t.type,total:t.total}:null},getItems:function(){for(var e=[],t=0;t<this.lists().length;t++)for(var n=this.lists()[t],a=0;a<n.length();a+=1)e.push(n.get(a));return e},hide:function(){this.visible(!1)},show:function(){this.visible(!0)},cancel:function(){this.hide(),this.inactivePrev(),this.resetIndex()},getBaseIndex:function(){return this.keyboardDelegate?this.keyboardDelegate.getBaseIndex():-1},onKeyUp:function(e,t){return this.keyboardDelegate.onKeyUp(e,t)},onKeyDown:function(e,t){return this.keyboardDelegate.onKeyDown(e,t)},onBlur:function(){return this.keyboardDelegate.onBlur()},moveUp:function(){var e=this.activeIndex()-1;e<0?(this.cancel(),this.options.isReverse&&this.moveFocus()):this.select(e)},moveDown:function(){var e=this.activeIndex()+1;e>=this.length()?(this.cancel(),this.options.isReverse||this.moveFocus()):this.select(e)},moveFocus:function(){if(this.options.searchButtonEl){var e=document.getElementById(this.options.searchButtonEl);e.focus()}},select:function(e){this.inactivePrev(),this.activeIndex(e),this.selectIndex(e);var t=this.get(e);t&&t.isActivated(!0)},mouseOverItem:function(e){this.inactivePrev(),this.activateItem(e)},activateItem:function(e){var t=this.indexOf(e);e.isActivated(!0),this.activeIndex(t)},inactivePrev:function(){var e=this.activeIndex(),t=this.get(e);t&&t.isActivated(!1)},get:function(e){if(-1<e)for(var t=0;t<this.lists().length;t++){var n=this.lists()[t];if(n.length()>e)return n.get(e);e-=n.length()}return undefined},indexOf:function(e){for(var t=0,n=0;n<this.lists().length;n+=1)for(var a=this.lists()[n],i=0;i<a.length();i+=1){if(e===a.get(i))return t;t+=1}return-1},update:function(e,n){if(!e.replace(/ /g,""))return this.cancel(),void this.lists([]);var a=this,t=this.options.queryDelegate||_;t(e,this.options,function(e,t){n&&n(),t&&(a.cachedAnswerData=t),a.lists(e),a.resetIndex()},this.cachedAnswerData),this.show()},resetIndex:function(){this.activeIndex(this.getBaseIndex()),this.selectIndex(this.getBaseIndex())},updateAccessiblity:function(e){this.accessible(""),0<e&&this.accessible(e+"   . /   ")}});function _(t,n,a,s){var o=[],e=n.APIServer.host,i=n.APIServer.apiType;if(!(100<t.length)){var r={url:e,method:"GET",data:l({q:t},n.APIServer.queries),success:function(e){o.push(new b(e,n)),n.AnswerAPIServer?JSONP({url:n.AnswerAPIServer,data:{q:t,top:0,sq:e.subkeys[0]},success:function(e){var t=null;e.success&&(s&&function i(e,t,n){if("04"!==e.collectionId){for(var a in e)if(e.hasOwnProperty(a)&&e[a]!==t[a]&&a!==n)return!1;return!0}}(e.answer,s.answerData,"querySource")?(t=s.instance,t.item(l(t.item(),e.answer,!0)),t.item().isActivated(!1)):(s={},t=new y(e,n),s.answerData=e.answer,s.instance=t),n.isReverse?o.push(t):o.unshift(t)),a(o,s)}}):a(o)}};if(i&&i===suggest.Suggest.APITYPE.DAPISUGGEST){var c=n.APIServer.appkey,u="KakaoAK "+c;window.jQuery.extend(r,{dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization",u)}})}else window.jQuery.extend(r,{dataType:"jsonp"});window.jQuery.ajax(r)}}var k={on:"",off:" "},E="get",C="remove_all",S=w.extend({init:function(e,t){this._super(e,t),this.toggleBtn=ko.observable(),this.enableRecent=ko.observable(!1),this.getRecentData()},setSubscribe:function(){this._super(),this.options.enableRecentList&&this.postbox.subscribe(function(e){var t=document.getElementById(this.options.inputEl).value;""===e&&t===e?this.show():this.hide()},this,"suggestQuery")},removeRecentData:function(){this.request(C)},toggle:function(){this.enableRecent()?(this.enableRecent(!1),this.toggleBtn(k.off),Cookies.set("suggest_recent","off",{expires:31536e3})):(this.enableRecent(!0),this.toggleBtn(k.on),Cookies.set("suggest_recent","on",{expires:31536e3}))},getRecentData:function(){if(this.options.enableRecentList){var t=this,e=Cookies.get("suggest_recent")||"on";this.enableRecent("on"===e),this.toggleBtn(k[e]),this.request(E,function(e){t.lists([new T(e,t.options)])})}},update:function(){},request:function(t,n){var a=this;JSONP({url:a.options.recentAPIServer.host+t+".js",data:a.options.recentAPIServer.queries||{},success:function i(e){if(t===E)e.myKeywordHistories&&0<e.myKeywordHistories.length&&n&&n(e.myKeywordHistories);else if(t===C){if(!e.processResult||"true"!==e.processResult.isSuccess)throw alert("    ."),"fail remove recent data";a.lists([])}},callbackName:"function"})}}),T=Class.extend({init:function(e,t){this.options=t,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),this._parseData(e)},get:function(e){return this.items()[e]},_parseData:function(e){for(var t,n=[],a=[],i=e.length>this.options.recentLimit?this.options.recentLimit:e.length,s=0;s!==i;s++){var o=e[s].kword;if(n.indexOf(o)<0){n.push(o);var r=v((t=o,t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")));r.type="RECENT",a.push(r)}}this.items(a)}});var I=Class.extend({init:function(e){this.isShiftOn=!1,this.suggestList=e},getBaseIndex:function(){return this.suggestList.length()},onKeyDown:function(e,t){var n=t.keyCode,a=this.suggestList;a.activeIndex();switch(n){case h.UP:DOMEvent.preventDefault(t),a.visible()?a.moveUp():a.show();break;case h.DOWN:DOMEvent.preventDefault(t),a.visible()&&a.moveDown();break;case h.TAB:DOMEvent.preventDefault(t),a.visible()&&(this.isShiftOn?a.moveDown():a.moveUp());break;case h.ESC:a.cancel();break;case h.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(e,t){var n=t.keyCode;n===h.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),D=Class.extend({init:function(e,t){if(null!=e){var n=new ko.subscribable,a=this;this.parent=t,this.el=e,this.options=l(t.options,{searchLayer:e}),this.keywordInput=new m(this.options,n),this.suggestList=this.createSuggestList(this.options,n),this.recentList=this.createRecentList(this.options,n),this.activeItem=null,this.timeId=null,this.bindEvent(),n.subscribe(function(e){a.setActiveItem(e)},this,"activate")}},createSuggestList:function(e,t){var n;n=w;var a=new n(e,t);return e.isReverse&&(a.keyboardDelegate=new I(a)),a},createRecentList:function(e,t){var n=new S(e,t);return e.isReverse&&(n.keyboardDelegate=new I(n)),n},bindEvent:function(){var t=this;DOMEvent.on(document,"click",this._cancelOnClickDocument.bind(this)),DOMEvent.on(document,"keydown",this._setFocusOnKeydownDocument.bind(this)),DOMEvent.on(window,"load",function(){"LOAD"===t.options.autoFocus&&t.setFocus()}),DOMEvent.on(document,"keyup",function(e){t._isModifierKey(e.keyCode)&&(t.pressedModifierKey=!1)}),DOMEvent.on(document.getElementById(this.options.inputEl),"mousedown",function(){t.toggleLayer()})},_cancelOnClickDocument:function(e){var t=DOMEvent.getTarget(e);!function a(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}(this.el,t)&&this.cancel()},_setFocusOnKeydownDocument:function(e){if(this._shouldNotFocusWhenKeydown(e))return!0;this._isModifierKey(e.keyCode)&&this.pressedModifierKey||e.altKey||e.ctrlKey||e.metaKey||(this.keywordInput.searchQuery(""),this.setFocus())},_shouldNotFocusWhenKeydown:function(e){var t=DOMEvent.getTarget(e),n=t.nodeName,a=e.keyCode;return"WRITE"!==this.options.autoFocus||this._isInputTypeNodeName(n)||this._isModifierKey(a)},_isInputTypeNodeName:function(e){return"INPUT"===e||"SELECT"===e||"TEXTAREA"===e},_isModifierKey:function(e){for(var t in h)if(h.hasOwnProperty(t)&&h[t]===e)return this.pressedModifierKey=!0,!0;return!1},setFocus:function(){this.keywordInput.isSelected(!0)},forceFormSubmit:function(){this.parent.emit("click-item"),this.hide()},setActiveItem:function(e){this.activeItem=e,this.parent.emit("activate-item",e)},getActiveItem:function(){return this.activeItem},hide:function(){this.suggestList.hide(),this.recentList.hide()},cancel:function(){this.suggestList.cancel(),this.recentList.cancel()},onKeyDown:function(e,t){if(t.keyCode===h.TAB&&(this.parent.emit("pressed-tab-key",t),!this.recentList.visible()&&!this.suggestList.visible()))return!0;t.keyCode===h.ENTER&&(null!==this.getActiveItem()&&this.parent.emit("click-item"),this.keywordInput.defaultQuery=this.keywordInput.searchQuery(),this.hide());var n=this.getActiveList();return n.onKeyDown(e,t)},onKeyUp:function(e,t){var n=this.getActiveList();return n.onKeyUp(e,t)},onBlur:function(e,t){var n=this.getActiveList();return clearInterval(this.timeId),n.onBlur(e,t)},onFocus:function(e,t){var n=this,a=document.getElementById(n.options.inputEl);this.timeId=window.setInterval(function(){n.keywordInput.searchQuery(a.value)},100)},getActiveList:function(){return this.recentList.visible()||!this.keywordInput.searchQuery()?this.recentList:this.suggestList},showLayer:function(e){e?(this.suggestList.update(e),this.suggestList.show()):this.options.enableRecentList&&this.recentList.show()},setAPIServer:function(e){var t=this;this.suggestList.options.APIServer=e,this.suggestList.update(this.keywordInput.searchQuery(),function(){t.setFocus(),t.suggestList.show()})},toggleLayer:function(){this.recentList.visible()||this.suggestList.visible()||this.showLayer(this.keywordInput.searchQuery())}}),A=Observer.extend({init:function(e,t){this._checkChromeAutoCompleteAttr(),this.options=this._overrideDefaultOptions(t),this._prepareKnockout(),this.viewModel=new D(e,this),ko.applyBindings(this.viewModel,e)},_checkChromeAutoCompleteAttr:function(){var e=navigator.userAgent.toLowerCase();if(-1!==e.indexOf("chrome")){var t=document.getElementsByClassName("tf_keyword")[0];"off"!==t.getAttribute("autocomplete")&&t.setAttribute("autocomplete","off")}},_overrideDefaultOptions:function(e){return l(t,e,!0)},_prepareKnockout:function(){var e=document.getElementById(this.options.inputEl),t=document.getElementById(this.options.suggestBoxEl);if(e&&t){e.setAttribute("data-bind","value: keywordInput.searchQuery, hasFocus: keywordInput.isSelected, event: { keydown: onKeyDown, keyup: onKeyUp, focus: onFocus, blur: onBlur }");var n=e.parentNode,a=document.createElement("span");n.insertBefore(a,e.nextSibling),a.setAttribute("aria-live","polite"),a.setAttribute("data-bind","text: suggestList.accessible, attr: { 'aria-live': 'polite'}, css: 'screen_out'"),t.setAttribute("data-bind",'template: { name: "suggest-container" }')}i()},getSuggestions:function(){return this.viewModel.suggestList.getItems()},isVisibleLayer:function(){return this.viewModel.recentList.visible()||this.viewModel.suggestList.visible()},setAPIServer:function(e){this.viewModel.setAPIServer(e)},getActiveItem:function(){return this.viewModel.getActiveItem()},getUserEnteredQuery:function(){return this.viewModel.keywordInput.defaultQuery},setQuery:function(e){this.viewModel.keywordInput.searchQuery(e)},EVENT_CLICK_ITEM:"click-item",EVENT_PRESS_TAB_KEY:"pressed-tab-key",EVENT_ACTIVATE_ITEM:"activate-item"});A.APITYPE={DAPISUGGEST:"DAPISUGGEST"},window.suggest={Suggest:A}}.call(this),function(e){"use strict";"undefined"!=typeof e.suggest&&(e.suggest.version="1.2.16")}(window);